DROP TABLE DONANTE CASCADE CONSTRAINT;
CREATE TABLE DONANTE (
    num_Donante NUMBER(10) CONSTRAINT donante_pk PRIMARY KEY,
    nombre VARCHAR2(20) NOT NULL,
    apellido1 VARCHAR2(20) NOT NULL,
    apellido2 VARCHAR2(20) NOT NULL,
    ciclo VARCHAR2(20) NOT NULL,
    foto BLOB, 
    DNI VARCHAR2(10) NOT NULL,
    fecha_nac DATE NOT NULL,
    pais_nac VARCHAR2(20) NOT NULL,
    direccion VARCHAR2(40) NOT NULL,
    poblacion VARCHAR2(30) NOT NULL,
    cod_postal NUMBER(10) NOT NULL,
    telefono1 NUMBER(9) NOT NULL,
    telefono2 NUMBER(9) ,
    correo_electronico VARCHAR2(40) NOT NULL,
    sexo VARCHAR2(6) NOT NULL,
    CONSTRAINT AK_DNI UNIQUE(DNI)
    
    );


    
    
DROP TABLE FORMULARIO CASCADE CONSTRAINT;
CREATE TABLE FORMULARIO (
    codigo_form NUMBER(10) CONSTRAINT formulario_pk PRIMARY KEY,
    p1 VARCHAR2 (2) NOT NULL,
    p2 VARCHAR2 (2) NOT NULL,
    p3 VARCHAR2 (2) NOT NULL,
    p4 VARCHAR2 (2) NOT NULL,
    p5 VARCHAR2 (2) NOT NULL,
    p6 VARCHAR2 (2) NOT NULL,
    p7 VARCHAR2 (2) NOT NULL,
    p8 VARCHAR2 (2) NOT NULL,
    p9 VARCHAR2 (2) NOT NULL,
    p10 VARCHAR2 (2) NOT NULL,
    p11 VARCHAR2 (2) NOT NULL,
    p12 VARCHAR2 (2) NOT NULL,
    p13 VARCHAR2 (2) NOT NULL,
    p14 VARCHAR2 (2) NOT NULL,
    p15 VARCHAR2 (2) NOT NULL,
    p16 VARCHAR2 (2) NOT NULL,
    p17 VARCHAR2 (2) NOT NULL,
    p18 VARCHAR2 (2) NOT NULL,
    p19 VARCHAR2 (2) NOT NULL,
    p20 VARCHAR2 (2) NOT NULL,
    p21 VARCHAR2 (2) NOT NULL,
    p22 VARCHAR2 (2) NOT NULL,
    p23 VARCHAR2 (2) NOT NULL,
    p24 VARCHAR2 (2) NOT NULL,
    p25 VARCHAR2 (2) NOT NULL,
    p26 VARCHAR2 (2) NOT NULL,
    p27 VARCHAR2 (2) NOT NULL,
    p28 VARCHAR2 (2) NOT NULL,
    p29 VARCHAR2 (2) NOT NULL,
    p30 VARCHAR2 (2) NOT NULL,
    p31 VARCHAR2 (2) NOT NULL,
    
    pex1 VARCHAR (2) NOT NULL,
    pex2 VARCHAR (2) NOT NULL,
    pex3 VARCHAR (2) NOT NULL,
    
    fecha_form DATE NOT NULL,
    fecha_exclusion DATE,
    estado_donacion VARCHAR2(10) NOT NULL
    );


DROP TABLE DONACION CASCADE CONSTRAINT;
CREATE TABLE DONACION ( 
    num_donacion NUMBER(10) CONSTRAINT donacion_pk PRIMARY KEY,
    cod_colecta NUMBER(15) NOT NULL,
    tipo VARCHAR2(15) NOT NULL,
    pulso NUMBER(10) NOT NULL,
    TA_sist NUMBER(10) NOT NULL,
    TA_diast NUMBER(10) NOT NULL,
    Hb_cap NUMBER(10) NOT NULL,
    Hb_ven NUMBER(10) NOT NULL,
    Fecha DATE NOT NULL
    );

DROP TABLE REALIZA CASCADE CONSTRAINT;
CREATE TABLE REALIZA (
    num_Donante NUMBER(10) NOT NULL,
    num_donacion NUMBER(10) NOT NULL,
    CONSTRAINT realiza_pk PRIMARY KEY (num_Donante, num_donacion),
    CONSTRAINT realiza_fk1 FOREIGN KEY (num_Donante) REFERENCES DONANTE (num_Donante) ON DELETE CASCADE,
    CONSTRAINT realiza_fk2 FOREIGN KEY ( num_donacion) REFERENCES DONACION (num_donacion) ON DELETE CASCADE
    
    );

DROP TABLE RELLENA CASCADE CONSTRAINT;
CREATE TABLE RELLENA (
    num_Donante NUMBER(10) NOT NULL,
    codigo_form NUMBER(10) NOT NULL ,
    CONSTRAINT rellena_pk PRIMARY KEY (num_Donante, codigo_form),
    CONSTRAINT rellena_fk1 FOREIGN KEY (num_Donante) REFERENCES DONANTE(num_Donante) ON DELETE CASCADE,
    CONSTRAINT rellena_fk2 FOREIGN KEY ( codigo_form) REFERENCES FORMULARIO(codigo_form) ON DELETE CASCADE
    
    );
